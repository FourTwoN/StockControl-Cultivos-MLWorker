# =============================================================================
# Agro Industry Configuration
# =============================================================================
# ML configuration for agricultural stock control (plant detection, counting)

industry: agro
version: "1.0.0"

# =============================================================================
# Model Configuration
# =============================================================================
models:
  detection:
    path: detect.pt
    confidence_threshold: 0.25
    classes:
      - item
    enabled: true

  segmentation:
    path: segment.pt
    confidence_threshold: 0.30
    classes:
      - cajon
      - claro-cajon
    enabled: true

  classification:
    # Not used in agro - plants are counted, not classified
    enabled: false

# =============================================================================
# Pipeline Definitions
# =============================================================================
# Each pipeline defines a sequence of processing steps.
# Steps must match registered processor names.
pipelines:
  # Simple detection only
  DETECTION:
    steps:
      - detection

  # Segmentation only (for field/row identification)
  SEGMENTATION:
    steps:
      - segmentation

  # Full analysis: segment → detect → estimate
  FULL_PIPELINE:
    steps:
      - segmentation
      - detection
      - estimation

  # Segment and detect (without estimation) - useful for POC/testing
  SEGMENT_DETECT:
    steps:
      - segmentation
      - detection

  # Quick count without segmentation
  QUICK_COUNT:
    steps:
      - detection
      - estimation

  # Field analysis (segmentation + estimation without detection)
  FIELD_ANALYSIS:
    steps:
      - segmentation
      - estimation

# =============================================================================
# Industry-Specific Settings
# =============================================================================
settings:
  # Default pipeline when not specified in request
  default_pipeline: DETECTION

  # Maximum image size (pixels) - larger images will be resized
  max_image_dimension: 4096

  # Enable SAHI (Slicing Aided Hyper Inference) for large images
  use_sahi: false

  # Minimum area for valid detections (pixels^2)
  min_detection_area: 100
